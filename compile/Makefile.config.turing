#===============================================================================
#-------------------------------------------------------------------------------
# Configurable Options
#-------------------------------------------------------------------------------
CHARMBASE	= $(HOME)/charm
LNK_OPTS	= -lz -lm -memory gnu
#-------------------------------------------------------------------------------
DUAL_FFTW	= -DDUAL_FFTW_OFF
FFT_HOME	= $(HOME)/fftw
#-------------------------------------------------------------------------------
LOCAL_LIBS	=
#===============================================================================


#===============================================================================
# General definitions (Makefile.config.gen)
#-------------------------------------------------------------------------------
# Compile options
#-------------------------------------------------------------------------------
DBG_FLAG	= 
FOPTS           = $(DBG_FLAG) -O3 -funroll-all-loops -fsched-interblock \
		-falign-loops=16 -falign-jumps=16 -falign-functions=16 \
		-falign-jumps-max-skip=15 -falign-loops-max-skip=15 \
		-force_cpusubtype_ALL -ffast-math
COPTS           = $(DUAL_FFTW) -DFORTRANUNDERSCORE -DCMK_OPTIMIZE=1 \
		-mdynamic-no-pic -mpowerpc-gpopt -mtune=G5 -mcpu=G5 -mpowerpc64
OPTS            = $(FOPTS) $(COPTS)
MATH_OPTS	=
RUNCOMMAND	= ../OpenAtom
#-------------------------------------------------------------------------------
# Directories
#-------------------------------------------------------------------------------
CPAIMD		= ../
MYMATH_HOME_INC	= ../src_mathlib/compile
VALID_DIR	= ../binary/water_32M_10Ry
VALID_EXEC	= ../autotest
AUTOTEST	= $(VALID_EXEC)
#===============================================================================


#===============================================================================
# Blas/ Lapack/ Eispack libraries
#-------------------------------------------------------------------------------
# Fortran Source / Optimized Libraries
#-------------------------------------------------------------------------------
src_math     = $(src_blas) $(src_lapack) $(src_eispack) 
IBM_ESSL_DUMMY	= 
MATH_LIB	= 
#===============================================================================

#===============================================================================
# PINY Definitions (Makefile.config.piny)
#-------------------------------------------------------------------------------
# PINY physics directories: forcefield, abinitio, interface 
#-------------------------------------------------------------------------------
PINY_PHY                = $(CPAIMD)/src_piny_physics_v1.0
PINY_CPAIMD_ROUT        = $(PINY_PHY)/abinito_physics
PINY_FORCEFIELD_ROUT    = $(PINY_PHY)/classical_physics
PINY_INTERFACE_ROUT     = $(PINY_PHY)/interface
#-------------------------------------------------------------------------------
# header files for PINY physics
#-------------------------------------------------------------------------------
PHYSICS_INC	= $(PINY_PHY)/include/class_defs
STANDARD_INC	= $(PINY_PHY)/include/pentium_par
#-------------------------------------------------------------------------------
# Makefile for PINY physics
#-------------------------------------------------------------------------------
MAKE_PHYS_INC	= $(PINY_PHY)/compile/pentium_par
#-------------------------------------------------------------------------------
# include file paths for physics: general
#-------------------------------------------------------------------------------
INC_OPT		= -I$(PHYSICS_INC) -I$(STANDARD_INC)
#-------------------------------------------------------------------------------
# libmodulePhysics.a is located here
#-------------------------------------------------------------------------------
PINY_LIB_PATH	= $(PINY_PHY)/runable
#-------------------------------------------------------------------------------
# Module name for reader library
#-------------------------------------------------------------------------------
INTERFACE_MOD	= Interface_ctrl
#-------------------------------------------------------------------------------
# compile time flags
#-------------------------------------------------------------------------------
FLAGS		= $(FLAG) -D_PINY_READER_ -DUSE_SPLINE_LJ
#===============================================================================


#===============================================================================
#-------------------------------------------------------------------------------
# Charm Options
#-------------------------------------------------------------------------------
CHARMC			= $(CHARMBASE)/bin/charmc $(OPTS) $(FLAGS) 
CPAIMD_DRV_SRC		= $(CPAIMD)/src_charm_driver
MAKE_CPAIMD_DRV_INC	= $(CPAIMD)/src_charm_driver/compile
CHARMLIB		= -module CkMulticast -module commlib
FORT			= $(CHARMBASE)/bin/charmc -f77
F_COMPILER		= $(FORT) $(FOPTS) -qstrict -qextname
F_COMPILER_NOPT		= $(FORT) $(DBG_FLAG)
#===============================================================================

